
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mike Cavs' blog</title>
  <meta name="author" content="Mike Cavs">

  
  <meta name="description" content="So we wrote our awesome app in Ruby! It does all the things we need: generates data, access that data and spits out a response.
We also have it &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://mcavaioni.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Mike Cavs' blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Mike Cavs' blog</a></h1>
  
    <h2>at Flatiron School</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="mcavaioni.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/18/my-second-post-on-octopress/">Going to the Web!</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-18T15:05:00-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:05 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So we wrote our awesome app in Ruby! It does all the things we need: generates data, access that data and spits out a response.
We also have it written in the MVC schema, where we have:
- the router: which &ldquo;manages&rdquo; the specific resources and send us to
- the controllers: which &ldquo;take care&rdquo; of all the actions and have
- the models: which &ldquo;perform&rdquo; the tasks/methods that they are entitled for.
- the views: which &ldquo;display&rdquo; any &ldquo;form&rdquo; to the user.</p>

<p>That sounds great but how do I get this great application visible to the public???
I want other users to access it!
Oh, great there is this thing called &ldquo;internet&rdquo; that should do the trick!
&hellip;yeah but how..???
How can my application receive a request and send a response?
Let&rsquo;s see how my application interacts with the World Wide Web&hellip;</p>

<p>Here below is an over-simplified flow:</p>

<p><img src="http://imgur.com/LjY6U7a" /></p>

<!-- <img class="center" src="/images/flow.png" title="" > -->


<p>When the user sends a request to the server, this comes in the form of a string with several data (such as the get request, URL, user info,..).
All these data are &ldquo;transformed&rdquo; by rack in the form af a hash which can then be sent to our router.
Here the flow between the router, controllers and views is the typical MVC flow. What changes is now the view which need to display the response in an html form.
That&rsquo;s when ERB comes to help.
ERB is a templating system written in Ruby.
ERB takes a templating string and some configuration options.</p>

<p>i.e.</p>

<p>string = File.read (&ldquo;app/views/template.html.erb&rdquo;)</p>

<p>Where the file &ldquo;template.html.erb&rdquo; is our view &ldquo;form&rdquo; where the pattern that gets evaluated by ERB is written within &lt;% %> or &lt;%= %> where in addition to evluate this, ERB also displays it.</p>

<p>When the &ldquo;result&rdquo; method is eventually called on the ERB object then all the lines of code containing the specific pattern mentioned above get evaluated with a given &ldquo;binding&rdquo;.
&ldquo;Binding&rdquo; includes all the Ruby local variables. It basically points to all the local variables that are in my scope.</p>

<p>i.e.</p>

<p>template = ERB.new (string)
output = template.result(binding)</p>

<p>Finally the response that is sent to the server gets &ldquo;transformed&rdquo; into the form af an array, which contains 3 information:</p>

<p>1- the response code: basically a code that machines use to communicate with eachother (i.e. 200 = everything is ok; 400= there is a problem from the client side; 500= there is a problem from the application side)</p>

<p>2- the header: the content type, explaining how the body shall be interpreted (i.e. JSON, html, text,..)</p>

<p>3- the body: the response!</p>

<p>i.e.</p>

<p>[200, {&ldquo;Content-type&rdquo; => &ldquo;text/html&rdquo;}, [&ldquo;Hello World!!!&rdquo;]]</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/04/my-first-post-on-octopress/">Everything Is an Object - Array Method REPLACE.</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-10-04T13:14:41-04:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:14 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the first things you learn when dealing with Ruby is that everything is an object.
(well, except for: def, if, end ).</p>

<p>This seems like a simple concept, but it hides a very important meaning that sometimes we forget when doing a simple operation.
Let&rsquo;s take for example on methods we can use on an array: REPLACE.
Replace, as the word implies, replace the content of an array with the content of another one.
Let&rsquo;s visualize this one in our CLI.</p>

<p>Let&rsquo;s create a new array:</p>

<blockquote><p>  a = [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p></blockquote>

<p>=>  [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p>

<p>So, now if we want to see what &ldquo;a&rdquo; is we type &ldquo;as&rdquo; in our terminal we get the following:</p>

<blockquote><p>  a</p></blockquote>

<p>=>  [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p>

<p>Let&rsquo;s now create another array which is equal to our original one, so:</p>

<blockquote><p>  b = a</p></blockquote>

<p>=>  [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p>

<p>As we can see &ldquo;b&rdquo; got assigned to same object of our original array &ldquo;a&rdquo;.</p>

<p>What happens if we now apply our method &ldquo;REPLACE&rdquo; to our array &ldquo;a&rdquo; ? and what happens to &ldquo;b&rdquo;?</p>

<blockquote><p>  a.replace([1,2,3])</p></blockquote>

<p>=>  [1,2,3]</p>

<blockquote><p>  a</p></blockquote>

<p>=>  [1,2,3]</p>

<blockquote><p>  b</p></blockquote>

<p>=>  [1,2,3]</p>

<p>Cool. Yes that easy. I just replaced the content of &ldquo;a&rdquo; and since &ldquo;b&rdquo; is pointing to the same object, also his content has changed.</p>

<p>But what happens when I reassign &ldquo;a&rdquo;?</p>

<blockquote><p>  a = [&ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;]</p></blockquote>

<p>=>  [&ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;]</p>

<blockquote><p>  a</p></blockquote>

<p>=>  [&ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;]</p>

<p>Is &ldquo;b&rdquo; going to change? Remember, everything is an object in Ruby!
Let&rsquo;s see:</p>

<blockquote><p>  b</p></blockquote>

<p>=>  [1,2,3]</p>

<p>At first I got confused, but then I went back to my terminal and looked at the &ldquo;object_id&rdquo; of my objects as I was creating them.
Let&rsquo;s do it again.</p>

<blockquote><p>  a = [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p></blockquote>

<p>=>  [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p>

<blockquote><p>  a.object_id</p></blockquote>

<p>=>  70312125383000</p>

<blockquote><p>  b = a</p></blockquote>

<p>=>  [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]</p>

<p>=>  b.object_id</p>

<p>=>  70312125383000</p>

<p>&ldquo;a&rdquo; and &ldquo;b&rdquo; are pointing to the same object (which is an array and it happens to have ID= 70312125383000; the content of this object is [&ldquo;cat&rdquo;, &ldquo;dog&rdquo;, &ldquo;mouse&rdquo;]).
When I use the method &ldquo;REPLACE&rdquo; on &ldquo;a&rdquo; I just happen to change the content of the object. Just that.
So when I assign a variable (in this case &ldquo;a&rdquo;) to an object I basically point this variable to a bucket (that has the &ldquo;shape&rdquo; of an array) which contains a bag (inside this bag I put a &ldquo;cat&rdquo;, a &ldquo;dog&rdquo;, a &ldquo;mouse&rdquo;).</p>

<p>When I apply my method &ldquo;REPLACE&rdquo; I basically just replace the bag inside my bucket array with another content (now containing the numbers 1,2,3). But the bucket itself does not change. Infact it&rsquo;s ID is still the same. Let&rsquo;s see:</p>

<blockquote><p>  a.replace([1,2,3])</p></blockquote>

<p>=>  [1,2,3]</p>

<blockquote><p>  a</p></blockquote>

<p>=>  [1,2,3]</p>

<blockquote><p>  a.object_id</p></blockquote>

<p>=>  70312125383000</p>

<blockquote><p>  b</p></blockquote>

<p>=>  [1,2,3]</p>

<blockquote><p>  b.object_id</p></blockquote>

<p>=>  70312125383000</p>

<p>Now, instead, when I reassign &ldquo;a&rdquo; to another array I basically point &ldquo;a&rdquo; to another object, still an object array, with another bag inside which contains &ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;.
This is now a totally different object. In fact if we look in terminal the object ID associated to this array object is different!</p>

<blockquote><p>  a = [&ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;]</p></blockquote>

<p>=>  [&ldquo;I&rdquo;, &ldquo;am&rdquo;, &ldquo;another&rdquo;, &ldquo;object&rdquo;]</p>

<blockquote><p>  a.object_id</p></blockquote>

<p>=>  70312117660040</p>

<p>What happens to b? b is still pointing to the previous object array. It&rsquo;s content hasn&rsquo;t changed.
In fact:</p>

<blockquote><p>  b.object_id</p></blockquote>

<p>=>  70312125383000</p>

<p>Which is the same as before!</p>

<p>To recap, everything is an object! an object is like a bucket identified by it&rsquo;s ID and it contains a bag. Inside a bag I can add, remove, replace content.
When I assign a variable I point that variable to an object. If another variable is equal to the first one created, then I assign it to the same object.
The method &ldquo;REPLACE&rdquo; change only the content of my object (the bag inside the bucket) and doesn&rsquo;t affect the binding between the two variables.
When I, instead, reassign the initial variable to another object I basically remove the binding between the two variables and now they are pointing to two completely different object.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/10/18/my-second-post-on-octopress/">Going to the Web!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/04/my-first-post-on-octopress/">Everything Is an Object - Array Method REPLACE.</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Mike Cavs -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
